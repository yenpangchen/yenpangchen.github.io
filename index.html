<!DOCTYPE html>
<html>
	<head>
		<title>比特幣匯率轉換</title>
	</head>
	<!-- 置中 欄位:column-->
	<body style="text-align: center;align-items: center; display: flex; flex-direction: column;">
		<div>
		<!-- 置中-->
			<center>
				<p>
					<!-- 字體大小特效-->
					<font size = "5">比特幣轉換美金小工具</font>
				</p>
			</center>
		</div>
		<div>
			<span>匯率日期</span>
			<input type="date" id="newDate" />
			<input type="number" id="quantity" />
			<span>比特幣</span>
			<button onclick="myfunction()">轉換</button>
			<span id="result">為 美金</span>
		</div>
		<div style="width: 50%; height: 200px; margin-top: 30px; border: 2px solid rgb(155,200,155);">
		<!-- 背景色  長 寬 排列方式 置中-->
			<div style="width: 100%; height: 50%; background-color:#FFE681; display: grid; place-items: center;">
				<h4>當前匯率</h4>
			</div>
			<div style="width: 100%; height: 50%; display: grid; place-items: center;">
				<p id="bitcoinprice">1 比特幣約 美金</p>
				
			</div>
		</div>
		<div>
			<hr>
			<ul>
				<li><a href="https://www.maicoin.com/market/BTC">MaiCoin</a></li>
				<li><a href="https://www.cmegroup.com/cn-t/education/courses/introduction-to-bitcoin/what-is-bitcoin.html">什麼是比特幣</li>
				
			</ul>
			<hr>
			<br>
			<!-- 字體大小特效 圖片長寬設定-->
			<img src=" https://storage.googleapis.com/image.blocktempo.com/2021/01/as9ds9adh89.jpg"  alt="This is the logo" width="180" height="100"  >
			<img src=" https://storage.googleapis.com/image.blocktempo.com/2020/07/will-dogecoin-replace-bitcoin.width-800-1200x900-1-1024x768.jpg"  alt="This is the logo" width="180" height="100"  >
			<hr>
		
			<h2>最近爆紅的狗狗幣~</h2>
			<ul>
				<li><a href="https://udn.com/news/story/6811/5448400">Dogecoin</a></li>
				
			</ul>
		</div>
		</div>
		<div>
		<hr>
		<br>
		<img src=" https://upload.wikimedia.org/wikipedia/commons/d/d3/User_Circle.png"  alt="This is the logo" width="256" height="256"  >
			<h2>我是陳彥邦，來自新北市，目前就讀國立中央大學資管系，興趣是打籃球</h2>
		</div>
		<script>
			function myfunction() {
				var date = document.querySelector("#newDate").value;
				var quantity = document.querySelector("#quantity").value;
				var bitcoinprice = document.querySelector("#bitcoinprice");
				var total = document.querySelector("#result");
				if (date.length > 0) {
					fetch(`https://api.coindesk.com/v1/bpi/historical/close.json?start=${date}&end=${date}`)
					.then((result) => result.json())
					.then((resultJson) => {
						bitcoinprice.innerHTML = `1 比特幣約 ${resultJson.bpi[date]} 美金`;
						total.innerHTML = `為 ${parseFloat(quantity) * parseFloat(resultJson.bpi[date])} 美金`;})
					.catch((err) => {
						console.log(err);
						alert("查無該日期匯率資料！");});}
				else {alert("日期格式錯誤！");}
			}
		</script>
	</body>
</html>
